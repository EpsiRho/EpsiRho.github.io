<!DOCTYPE html>
<html>

<head>
    <title>PeakHours</title>
    <script type="module" src="https://unpkg.com/@fluentui/web-components"></script>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="script.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="CardContainer">
        <fluent-card class="CustomCard">
            <input type="date" id="datepicker" name="date">
            <br>
            <input type="time" id="timepicker" name="time">
            <br>
            <br>
            <button type="button" id="submit">Submit</button>
        </fluent-card>
    </div>
    <script>
        function sendDateTime() {
            const date = new Date(document.getElementById("datepicker").value + "T" + document.getElementById("timepicker").value);
            const currentTime = date.toUTCString();
            const net = require('net');

            const client = new net.Socket();
            client.connect(12222, '71.146.161.50', function() {
                const date = new Date();
                const currentTime = date.toUTCString();
                client.write(currentTime);
            });
        }
        // add event listener to the submit button
        document.getElementById("submit").addEventListener("click", sendDateTime);
    </script>

</body>

</html>